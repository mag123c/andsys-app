# 기획 문서

## 제품 비전

**웹소설 작가를 위한 무료 글쓰기 플랫폼**

노션처럼 직관적이고, 오프라인에서도 끊김 없이 작동하는 소설 전용 에디터.

### 핵심 가치
- **무료**: 핵심 기능 100% 무료
- **오프라인 우선**: 인터넷 없이도 완벽하게 작동
- **직관적 UX**: 러닝커브 없이 바로 시작
- **빠른 저장**: 글쓰기 흐름을 끊지 않는 자동 저장

### 경쟁사 대비 차별화

| 경쟁사 | 문제점 | andsys 해결책 |
|--------|--------|--------------|
| 노벨라 | 유료 전환 예정 (월 9,900원) | 핵심 기능 영구 무료 |
| 뮤블 | 후원 의존, 지속성 불확실 | 지속 가능한 모델 (프리미엄 옵션) |
| Scrivener | 높은 러닝커브, 웹 없음 | 노션처럼 직관적, 웹+앱 |
| 대부분 | 오프라인 미지원 또는 불안정 | 로컬 우선 아키텍처 |

---

## MVP 기능 (v1.0)

### 1. 인증

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 이메일 회원가입/로그인 | Supabase Auth | P0 |
| 소셜 로그인 (Google) | OAuth 2.0 | P1 |
| 비밀번호 재설정 | 이메일 링크 | P1 |
| 게스트 모드 | 로그인 없이 로컬 저장으로 사용 | P0 |

> **게스트 모드**: 회원가입 없이 바로 글쓰기 시작. 나중에 계정 생성 시 데이터 마이그레이션.

---

### 2. 프로젝트 (소설) 관리

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 프로젝트 생성 | 제목, 장르, 설명 | P0 |
| 프로젝트 목록 | 카드 그리드, 최근 수정순 | P0 |
| 프로젝트 삭제 | 확인 모달, 휴지통 (30일) | P1 |
| 프로젝트 설정 | 제목/설명 수정 | P1 |

---

### 3. 챕터 (회차) 관리

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 챕터 생성 | 제목, 자동 번호 부여 | P0 |
| 챕터 목록 | 사이드바, 드래그앤드롭 순서 변경 | P0 |
| 챕터 삭제 | 확인 모달 | P1 |
| 챕터 복제 | 내용 포함 복사 | P2 |

---

### 4. 에디터 (핵심)

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 기본 편집 | 타이핑, 복사/붙여넣기, 실행취소 | P0 |
| 자동 저장 | 2초 debounce, 로컬 우선 | P0 |
| 저장 상태 표시 | "저장 중...", "저장됨", "오프라인" | P0 |
| 글자수 카운터 | 공백 포함/제외 옵션 | P0 |
| 다크 모드 | 시스템 설정 연동 + 수동 전환 | P0 |
| 폰트 설정 | 크기, 줄간격 조절 | P1 |
| 전체화면 모드 | 집중 모드 (F11) | P1 |
| 맞춤법 검사 | 브라우저 내장 또는 외부 API | P2 |

#### 에디터 서식 (P1)
- 볼드, 이탤릭, 취소선
- 구분선
- 주석 (작가 메모, 출력 안됨)

---

### 5. 오프라인 지원

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 로컬 저장 | IndexedDB 사용 | P0 |
| 오프라인 감지 | 상태 표시 (온라인/오프라인) | P0 |
| 자동 동기화 | 온라인 복귀 시 서버와 동기화 | P0 |
| 충돌 해결 | 최신 버전 우선 또는 수동 선택 | P1 |

#### 저장 전략
```
1. 모든 변경 → 즉시 IndexedDB 저장
2. 온라인 시 → 2초 debounce 후 서버 동기화
3. 오프라인 시 → 로컬만 저장, 온라인 복귀 시 동기화
```

---

### 6. 설정 관리 (P2 - MVP 후)

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| 캐릭터 관리 | 이름, 설명, 관계 | P2 |
| 세계관 설정 | 위키 스타일 문서 | P2 |
| 플롯 보드 | 노드 기반 스토리 구성 | P2 |

---

### 7. 내보내기

| 기능 | 설명 | 우선순위 |
|------|------|----------|
| TXT 내보내기 | 순수 텍스트 | P0 |
| 클립보드 복사 | 플랫폼 연재용 (서식 유지) | P0 |
| 전체 백업 | JSON 형식 (프로젝트 전체) | P1 |

---

## 사용자 플로우

### 첫 방문 (게스트)
```
랜딩 → "바로 시작하기" 클릭 → 에디터 (로컬 저장)
                              ↓
                    글쓰기 시작 (회원가입 없이)
                              ↓
                    나중에 계정 생성 시 데이터 연동
```

### 회원 사용자
```
로그인 → 프로젝트 목록 → 프로젝트 선택 → 챕터 목록 + 에디터
                                              ↓
                                    자동 저장 (로컬 + 서버)
```

---

## 화면 구성

### 1. 랜딩 페이지 (`/`)
- 히어로 섹션: 핵심 가치 전달
- "바로 시작하기" CTA (게스트 모드)
- "로그인" 버튼

### 2. 프로젝트 목록 (`/projects`)
- 프로젝트 카드 그리드
- 새 프로젝트 생성 버튼
- 검색/필터 (P2)

### 3. 에디터 (`/projects/[id]/chapters/[chapterId]`)
```
┌─────────────────────────────────────────────────────┐
│ 헤더: 프로젝트명 | 저장상태 | 글자수 | 설정      │
├──────────┬──────────────────────────────────────────┤
│          │                                          │
│ 챕터     │              에디터                      │
│ 목록     │                                          │
│ (사이드) │                                          │
│          │                                          │
└──────────┴──────────────────────────────────────────┘
```

### 4. 설정 (`/settings`)
- 테마 (다크/라이트)
- 에디터 설정 (폰트, 줄간격)
- 계정 관리

---

## 수익 모델 (Post-MVP)

### 무료 (기본)
- 모든 핵심 기능
- 프로젝트 무제한
- 오프라인 지원
- 로컬 저장

### 프리미엄 (월 X원) - 차후 검토
- 클라우드 동기화 (멀티 디바이스)
- AI 기능 (맞춤법, 문장 제안)
- 고급 내보내기 (EPUB, PDF)
- 버전 히스토리 (30일)

> **원칙**: 글쓰기 자체는 무료. 부가 기능만 유료화.

---

## 기술적 고려사항

### 오프라인 우선 아키텍처
```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   에디터    │ ──▶ │  IndexedDB  │ ──▶ │  Supabase   │
│  (Novel)    │     │   (로컬)    │     │   (서버)    │
└─────────────┘     └─────────────┘     └─────────────┘
                          │
                    오프라인 시에도 작동
```

### 동기화 전략
1. **Optimistic UI**: 로컬 먼저 반영, 서버는 백그라운드
2. **Conflict Resolution**: 타임스탬프 기반, 최신 우선
3. **Retry Queue**: 실패한 요청 재시도 큐

---

## 로드맵

### Phase 1: MVP (v1.0)
- 인증 (이메일 + 게스트)
- 프로젝트/챕터 CRUD
- 에디터 (자동저장, 글자수)
- 오프라인 지원
- TXT 내보내기

### Phase 2: 안정화 (v1.1)
- 소셜 로그인 (Google)
- 에디터 서식 (볼드, 이탤릭)
- 전체화면 모드
- 맞춤법 검사

### Phase 3: 확장 (v2.0)
- 캐릭터/세계관 관리
- 플롯 보드
- AI 기능 (프리미엄)
- 모바일 앱 (PWA)

---

## 성공 지표 (KPI)

| 지표 | 목표 (출시 후 3개월) |
|------|---------------------|
| MAU | 1,000명 |
| 신규 가입 | 500명/월 |
| 리텐션 (D7) | 30% |
| 프로젝트 생성 | 2,000개 |
| 챕터 작성 | 10,000개 |
