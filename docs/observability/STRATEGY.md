# 단계별 도입 전략

## Phase 1: MVP (현재)

**목표**: 프로덕션 안정성 확보 + 기본 분석

### 도입 도구

| 도구 | 역할 | 우선순위 |
|------|------|----------|
| **Sentry** | 에러 트래킹 + Slack 알림 | 필수 |
| **GA4** | 유입 분석 (SEO, SNS) | 필수 |
| **Vercel Analytics** | Core Web Vitals | 권장 |

### 기대 효과

```
- 프로덕션 에러 발생 시 5분 내 인지
- SEO 유입 키워드 파악
- 페이지별 로딩 속도 확인
```

### 비용

```
Sentry           : $0 (5K errors/월)
GA4              : $0 (무제한)
Vercel Analytics : $0 (50K events/월)
────────────────────────────────────
합계             : $0/월
```

---

## Phase 2: PMF 검증 (DAU 100+)

**목표**: 사용자 행동 이해 + 제품 개선

### 추가 도입

| 도구 | 역할 | 트리거 |
|------|------|--------|
| **PostHog** | 제품 분석, 퍼널, 리텐션 | DAU 50+ |
| **세션 리플레이** | UX 문제 발견 | 이탈률 높을 때 |

### 추적 시작할 메트릭

```
- 가입 → 첫 프로젝트 생성 퍼널
- 게스트 → 회원 전환율
- 7일/30일 리텐션
- 기능별 사용률
```

### 비용

```
PostHog : $0 (1M events/월)
────────────────────────────
합계    : $0/월
```

---

## Phase 3: 성장 (DAU 1000+)

**목표**: 스케일링 + 고급 분석

### 고려 사항

| 영역 | 옵션 | 비용 |
|------|------|------|
| **APM** | Sentry Performance | $26/월~ |
| **로그 집계** | Axiom, Logtail | $0~25/월 |
| **알림 고도화** | PagerDuty, Opsgenie | $0~20/월 |
| **A/B 테스트** | PostHog, Statsig | $0~50/월 |

### 이벤트 소싱 도입 시점

```
현재: 불필요 (CRUD 중심, 단순 동기화)

도입 고려 시점:
- B2B 전환 (감사 로그 필요)
- 협업 기능 추가 (충돌 해결)
- 버전 히스토리 기능
```

---

## 도입 판단 기준

### Sentry (Phase 1)
```
✓ 프로덕션 배포 시 즉시 도입
```

### GA4 (Phase 1)
```
✓ SEO 최적화 시작 시
✓ SNS 홍보 시작 시
```

### PostHog (Phase 2)
```
□ DAU 50명 이상
□ "사용자가 왜 이탈하지?" 질문이 생길 때
□ 기능 우선순위 결정이 필요할 때
```

### 유료 전환 (Phase 3)
```
□ 무료 한도 80% 도달
□ 매출 발생으로 비용 정당화 가능
□ 팀원 추가로 협업 도구 필요
```

---

## 마이그레이션 전략

### 추상화 레이어

```typescript
// src/lib/analytics.ts
// 도구 교체 시 이 파일만 수정

export function track(event: AnalyticsEvent): void {
  // Phase 1: console.log
  // Phase 2: PostHog
  // Phase 3: 멀티 프로바이더
}
```

### 도구 교체 시나리오

| 현재 | 교체 대상 | 이유 |
|------|-----------|------|
| PostHog | Amplitude | 엔터프라이즈 기능 필요 |
| Sentry | Datadog | APM 통합 필요 |
| GA4 | - | 교체 불필요 (무료 무제한) |
