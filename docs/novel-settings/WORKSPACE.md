# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (Workspace)

ê¸€ ì‘ì„± ì¤‘ ì„¤ì •ì„ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ UI ì„¤ê³„.

## ë²¤ì¹˜ë§ˆí‚¹: ë®¤ë¸” (Muvel)

[ë®¤ë¸” ê°€ì´ë“œ](https://guide.muvel.app/) ì°¸ì¡°

| ë®¤ë¸” ê¸°ëŠ¥ | 4ndSYS ì ìš© | ìš°ì„ ìˆœìœ„ |
|----------|-------------|----------|
| ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (ì°½ ë¶„í• ) | ìš°ì¸¡ ì‚¬ì´ë“œë°”ë¡œ êµ¬í˜„ | â­â­â­ |
| ìœ„í‚¤ ì—ë””í„° | ì‹œë†‰ì‹œìŠ¤/ë“±ì¥ì¸ë¬¼ ê´€ë¦¬ | â­â­ |
| ë‹¤ì´ë‚˜ë¯¹ ë§í¬ | ì—ë””í„°ì—ì„œ ì„¤ì • ì¦‰ì‹œ í™•ì¸ | â­â­â­â­ |
| ë©€í‹° ìœˆë„ìš° | ë‹¨ì¼ ìš°ì¸¡ íŒ¨ë„ë¡œ ë‹¨ìˆœí™” | - |

---

## ë ˆì´ì•„ì›ƒ êµ¬ì¡°

### ë°ìŠ¤í¬í†± (lg+)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â‰¡]  ì†Œì„¤ì œëª©                                        [ìœ ì € ì •ë³´]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                 â”‚                      â”‚
â”‚   ì¢Œì¸¡       â”‚                                 â”‚   ìš°ì¸¡ ì‚¬ì´ë“œë°”       â”‚
â”‚   ì‚¬ì´ë“œë°”   â”‚       ë©”ì¸ ì—ë””í„°               â”‚   (ì„¤ì • ì°¸ì¡°)         â”‚
â”‚              â”‚                                 â”‚                      â”‚
â”‚   ğŸ“– íšŒì°¨    â”‚                                 â”‚   [ğŸ” ê²€ìƒ‰]          â”‚
â”‚   â”” 001í™”   â”‚                                 â”‚                      â”‚
â”‚   â”” 002í™”   â”‚                                 â”‚   ğŸ“– ì‹œë†‰ì‹œìŠ¤         â”‚
â”‚   â”” 003í™”   â”‚                                 â”‚   ğŸ‘¤ ë“±ì¥ì¸ë¬¼         â”‚
â”‚              â”‚                                 â”‚   ğŸ”— ê´€ê³„ë„          â”‚
â”‚   ğŸ“ ì‹œë†‰ì‹œìŠ¤â”‚                                 â”‚                      â”‚
â”‚   ğŸ‘¤ ë“±ì¥ì¸ë¬¼â”‚                                 â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚   ğŸ”— ê´€ê³„ë„  â”‚                                 â”‚   [ì„ íƒëœ í•­ëª©       â”‚
â”‚              â”‚                                 â”‚    ë¯¸ë¦¬ë³´ê¸°]         â”‚
â”‚              â”‚                                 â”‚                      â”‚
â”‚   [â—€ ì ‘ê¸°]   â”‚                                 â”‚   [ì ‘ê¸° â–¶]           â”‚
â”‚              â”‚                                 â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       240px              flex-1                        320px
```

### ì‚¬ì´ë“œë°” ì ‘íŒ ìƒíƒœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â‰¡]  ì†Œì„¤ì œëª©                                        [ìœ ì € ì •ë³´]       â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤
â”‚    â”‚                                                              â”‚    â”‚
â”‚ ğŸ“– â”‚                                                              â”‚ ğŸ” â”‚
â”‚ ğŸ“ â”‚                    ë©”ì¸ ì—ë””í„°                               â”‚ ğŸ“– â”‚
â”‚ ğŸ‘¤ â”‚                    (ìµœëŒ€ ë„ˆë¹„)                               â”‚ ğŸ‘¤ â”‚
â”‚ ğŸ”— â”‚                                                              â”‚ ğŸ”— â”‚
â”‚    â”‚                                                              â”‚    â”‚
â”‚ [â–¶]â”‚                                                              â”‚ [â—€]â”‚
â”‚    â”‚                                                              â”‚    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
 48px                        flex-1                                  48px
```

---

## ì¢Œì¸¡ ì‚¬ì´ë“œë°”

### ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡°

```typescript
interface LeftSidebarSection {
  id: "chapters" | "synopsis" | "characters" | "relationships";
  icon: LucideIcon;
  label: string;
  href: string;
}

const sections: LeftSidebarSection[] = [
  { id: "chapters", icon: BookOpen, label: "íšŒì°¨", href: "/novels/{id}/chapters" },
  { id: "synopsis", icon: FileText, label: "ì‹œë†‰ì‹œìŠ¤", href: "/novels/{id}/synopsis" },
  { id: "characters", icon: Users, label: "ë“±ì¥ì¸ë¬¼", href: "/novels/{id}/characters" },
  { id: "relationships", icon: Link2, label: "ê´€ê³„ë„", href: "/novels/{id}/relationships" },
];
```

### ì ‘ê¸°/í´ê¸° ë™ì‘

```typescript
// localStorageì— ìƒíƒœ ì €ì¥
const SIDEBAR_STATE_KEY = "4ndsys:left-sidebar-collapsed";

function useLeftSidebar() {
  const [collapsed, setCollapsed] = useState(() => {
    return localStorage.getItem(SIDEBAR_STATE_KEY) === "true";
  });

  const toggle = () => {
    setCollapsed(!collapsed);
    localStorage.setItem(SIDEBAR_STATE_KEY, String(!collapsed));
  };

  return { collapsed, toggle };
}
```

---

## ìš°ì¸¡ ì‚¬ì´ë“œë°” (ì„¤ì • ì°¸ì¡°)

### ëª©ì 

ê¸€ ì‘ì„± ì¤‘ ì„¤ì •ì„ **ì½ê¸° ì „ìš©**ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì°¸ì¡°

### ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **ê²€ìƒ‰** | ì‹œë†‰ì‹œìŠ¤, ë“±ì¥ì¸ë¬¼ í†µí•© ê²€ìƒ‰ |
| **ì‹œë†‰ì‹œìŠ¤ ë¯¸ë¦¬ë³´ê¸°** | ì½ê¸° ì „ìš© ì‹œë†‰ì‹œìŠ¤ í‘œì‹œ |
| **ë“±ì¥ì¸ë¬¼ ëª©ë¡** | ìºë¦­í„° ì¹´ë“œ ëª©ë¡ |
| **ë“±ì¥ì¸ë¬¼ ìƒì„¸** | ì„ íƒí•œ ìºë¦­í„° ì •ë³´ |
| **ê´€ê³„ë„ ë¯¸ë¦¬ë³´ê¸°** | ì½ê¸° ì „ìš© ê´€ê³„ ëª©ë¡ |

### UI êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„¤ì • ì°¸ì¡°        [âœ•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” ê²€ìƒ‰...        ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ì‹œë†‰ì‹œìŠ¤             â”‚
â”‚   ì „ì²´ ì¤„ê±°ë¦¬ ë¯¸ë¦¬ë³´ê¸° â”‚
â”‚   (ì½ê¸° ì „ìš©)          â”‚
â”‚   [ì „ì²´ ë³´ê¸° â†’]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ë“±ì¥ì¸ë¬¼             â”‚
â”‚   â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”        â”‚
â”‚   â”‚img â”‚ â”‚img â”‚        â”‚
â”‚   â”‚í™ê¸¸â”‚ â”‚ê¹€ì² â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜        â”‚
â”‚   [ì „ì²´ ë³´ê¸° â†’]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„ íƒëœ ìºë¦­í„°          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [ì´ë¯¸ì§€]         â”‚   â”‚
â”‚ â”‚ í™ê¸¸ë™           â”‚   â”‚
â”‚ â”‚ 25ì„¸, ë‚¨ì„±       â”‚   â”‚
â”‚ â”‚ INTJ             â”‚   â”‚
â”‚ â”‚ ê³¼ë¬µí•˜ì§€ë§Œ...    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê²€ìƒ‰ ê¸°ëŠ¥

```typescript
interface SearchResult {
  type: "synopsis" | "character";
  id: string;
  title: string;
  preview: string;
  matchedText: string;
}

async function searchSettings(
  projectId: string,
  query: string
): Promise<SearchResult[]> {
  const [synopsisResults, characterResults] = await Promise.all([
    searchSynopsis(projectId, query),
    searchCharacters(projectId, query),
  ]);

  return [...synopsisResults, ...characterResults];
}
```

---

## ì—ë””í„° ë ˆì´ì•„ì›ƒ í†µí•©

### ê¸°ì¡´ EditorLayout í™•ì¥

```typescript
// í˜„ì¬
<div className="lg:pl-64">
  {/* ì¢Œì¸¡ ì‚¬ì´ë“œë°” + ë©”ì¸ ì½˜í…ì¸  */}
</div>

// ë³€ê²½ í›„
<div className="flex">
  {/* ì¢Œì¸¡ ì‚¬ì´ë“œë°” */}
  <LeftSidebar collapsed={leftCollapsed} onToggle={toggleLeft} />

  {/* ë©”ì¸ ì½˜í…ì¸  */}
  <main className="flex-1">{children}</main>

  {/* ìš°ì¸¡ ì‚¬ì´ë“œë°” */}
  <RightSidebar collapsed={rightCollapsed} onToggle={toggleRight} />
</div>
```

---

## ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
src/components/features/workspace/
â”œâ”€â”€ index.ts
â”œâ”€â”€ LeftSidebar.tsx           # ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€ LeftSidebarNav.tsx        # ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ
â”œâ”€â”€ RightSidebar.tsx          # ìš°ì¸¡ ì„¤ì • ì°¸ì¡°
â”œâ”€â”€ RightSidebarSearch.tsx    # í†µí•© ê²€ìƒ‰
â”œâ”€â”€ RightSidebarSynopsis.tsx  # ì‹œë†‰ì‹œìŠ¤ ë¯¸ë¦¬ë³´ê¸°
â”œâ”€â”€ RightSidebarCharacters.tsx # ë“±ì¥ì¸ë¬¼ ëª©ë¡
â”œâ”€â”€ CharacterPreviewCard.tsx  # ìºë¦­í„° ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ
â””â”€â”€ SidebarToggle.tsx         # ì ‘ê¸°/í´ê¸° ë²„íŠ¼
```

---

## ë°˜ì‘í˜• ê³ ë ¤

### ë¸Œë ˆì´í¬í¬ì¸íŠ¸

| í™”ë©´ | ì¢Œì¸¡ ì‚¬ì´ë“œë°” | ìš°ì¸¡ ì‚¬ì´ë“œë°” |
|------|---------------|---------------|
| lg+ (1024px) | ê³ ì • í‘œì‹œ | ê³ ì • í‘œì‹œ |
| md (768-1023px) | ë“œë¡œì–´ | ë“œë¡œì–´ |
| < md | ë“œë¡œì–´ | ìˆ¨ê¹€ |

### íƒœë¸”ë¦¿ ìš°ì„ 

- 1024px ì´ìƒì—ì„œ ì–‘ìª½ ì‚¬ì´ë“œë°” í‘œì‹œ
- ëª¨ë°”ì¼ì€ ê³ ë ¤í•˜ì§€ ì•ŠìŒ (íƒœë¸”ë¦¿/ë…¸íŠ¸ë¶ íƒ€ê²Ÿ)

---

## í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| ë‹¨ì¶•í‚¤ | ë™ì‘ |
|--------|------|
| `Cmd/Ctrl + \` | ì¢Œì¸¡ ì‚¬ì´ë“œë°” í† ê¸€ |
| `Cmd/Ctrl + Shift + \` | ìš°ì¸¡ ì‚¬ì´ë“œë°” í† ê¸€ |
| `Cmd/Ctrl + K` | ì„¤ì • ê²€ìƒ‰ |

---

## ìƒíƒœ ê´€ë¦¬

```typescript
// ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìƒíƒœ Context
interface WorkspaceState {
  leftCollapsed: boolean;
  rightCollapsed: boolean;
  selectedCharacterId: string | null;
  searchQuery: string;
}

const WorkspaceContext = createContext<WorkspaceState | null>(null);
```

---

## ì ‘ê·¼ì„±

- ì‚¬ì´ë“œë°” í† ê¸€: `aria-expanded` ì‚¬ìš©
- ê²€ìƒ‰: `role="search"` + `aria-label`
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜: í¬ì»¤ìŠ¤ íŠ¸ë© ì ìš©
- ìŠ¤í¬ë¦° ë¦¬ë”: ì„¹ì…˜ë³„ `aria-labelledby`
